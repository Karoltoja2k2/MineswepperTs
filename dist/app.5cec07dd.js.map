{"version":3,"sources":["src/objects/Point.ts","src/objects/Field.ts","src/objects/MapGenerator.ts","src/components/game.ts","src/app.ts","../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":"AKAA,ACAA,IDAIA,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,SDDSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AHLJ,AFAA,ACAA,AFAA,IMKIA,AHLE,AFAN,ACAA,AFAA,IMKQ,AHLE,CGKDI,ANLT,EGAa,AFAb,ACAA,GDAA,ACAA,CIKI,KHLE,CFAN,ACAA,CDAA,ACAA,ECAa,GAAA,IFAb,ACAA,CDAA,ACAA;AGME,ACAC,AHLC,AHDJ,GMIE,GHHM,GEKCnB,KFLO,GACZ,CEIF,yhDFLE;AEMH,AFsCG,AF3CJ,ACEA,AFJA,ICEA,ACEA,KCyCW,AF3CX,GDFA,IEIA,CCyCI;AGtCFgB,AHuCD,AF5CD,ACEA,AFAI,CGJJ,CGOEA,OAAO,CAACI,CNHN,GMGF,ENHE,CMGaL,ANHD,GAAZ,CMGiB,CAACK,ANHO,IMGZ,CAAUC,CNHvB,EAAuC,EMG1B,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,ALNF,ACEA,AFCQ,EMGNA,IAAI,CAACS,EDCEtB,ALJI,GCHb,ACEA,AFCQ,GAAW,EMGjB,CAAgBuB,GDClB,ALJQ,GKIgB,MCDtB,CAA6BT,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;ADEA,ACDD,AHuCD,AFtCI,ACOA,AFXI,OG0CR,CAAA,CH1Ca,ECIT,ACOA,CFXI,GG0CR,AH1CmB,CCIf,CAAY,CEsCD,AH1CP,ECIJ,EEsCJ,AFtC4B,CCOxB,CAAY,CDPZ,EAAkC,CCOlC,EAAyB,IAAzB,EAAsC,KAAtC,EAAkD;AGNpD,AJAM,ACHJ,AFDI,MKIF,GJAO,ACHT,AFDS,GCIL,EDJA,CCIW,ACHf,EFDiB,CEEjB,CDEmB,ACDf,GFHA,CEGI,GDCW,CAAA,GCDX,CAAA,CDCO,CAAU,GAAV,ACDX,CAAU,CDCgB,ACDf,CAAX,EDCW,ACDG,CDCd,ACDe,CAAf,CADJ,EACuB,IAAI,OAAA,CAAA,KAAJ,CAAU,CAAC,CAAX,EAAc,CAAd,CADvB,EACyC,IAAI,OAAA,CAAA,KAAJ,CAAU,CAAC,CAAX,EAAe,CAAf,CADzC,EAEI,IAAI,OAAA,CAAA,KAAJ,CAAW,CAAX,EAAc,CAAC,CAAf,CAFJ,EAEyC,IAAI,OAAA,CAAA,KAAJ,CAAW,CAAX,EAAe,CAAf,CAFzC,EAGI,IAAI,OAAA,CAAA,KAAJ,CAAW,CAAX,EAAc,CAAC,CAAf,CAHJ,EAGuB,IAAI,OAAA,CAAA,KAAJ,CAAW,CAAX,EAAc,CAAd,CAHvB,EAGyC,IAAI,OAAA,CAAA,KAAJ,CAAW,CAAX,EAAe,CAAf,CAHzC,CADA;AGIA,ACDJ,ALCQ,ACMA,AFVH,IMGDC,KLCS,ACMA,CGNH,EJAF,CCMA,CGNMxB,ACDA,CLCK,CCMC,CIPH,EDCP,CJAc,ACMhB,CGNJ,ACDJ,gBLCmB,CAAuB,KAAK,GAA5B,CAAX;AICL,AJAK,ACMA,GGRN,CAEE,KJAS,ACMA,EGNFC,EHMH,CGNJ,CJAI,CIAQ,AHMI,EDNE,ECMd,GDNA;AICJ,ACFJ,ALEQ,ACMA,AFVJ,EAAA,KAAA,CKIIC,ALJJ,CMEKuB,ALEI,ACMA,KAAL,CGNO,AJAP,ECMa,AFVjB,CKIc,ACFlB,ALEsB,ADJlB,CKIe,ECFE,CJQb,CDNA,CIAgBxB,GAAG,ALJvB,CKIwBE,ELJxB,GKIc,EAAiBC,KAAjB,ALJJ,CKI2B,ILJrC,EAAsB,yDKIR,CAAd;ACDF,ALEM,ACMA,AFVA,MMEFoB,GLEO,ACMA,EFVE,IAAI,CMEjB,CLEM,CKFU,ELEM,ADJT,CAAU,EEUjB,CDNA,ECMsB,AFVA,GAAL,EEUU,CFVC,KAAK,CAAC,GAA3B,EAAgC,KAAK,CEUtB,CAAwB,CFVP,GAAW,CEUC,IAA7B,AFViC,CAAC,CEUC,EFVlD,CAAP,EEU8D,IAAxC,CAAtB;AGNJ,ACDA,ALEI,ACMH,AFVA,GAFD,KKKItB,CJCK,MIDT,AJCI,EIDS,CJCK,CAAd;AIAF,ACDH,ALEE,aIDQG,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD,AHOD,AFVA,EEUA,AFVA,KAAA,CAAA,MEUA,CAAA,EFVA,CAAA,MEUA,CAAA,SFVA,EEUA,CFVA,EEUA,QFViB,EEUL,EFVZ,EAA8B,MEU9B,CFVA,CEU8B,CFVc,EEU5C,EAA0C;AGN3C,ACDDsB,ALEE,ACMI,AFVA,EMENA,ALEE,KAAA,CAAA,ACMQ,AFVD,IMEC,CNFI,EMEDE,CNFJ,CCIP,CAAA,ACMkB,CFVA,CAAX,CEUc,GAAG,AFVD,CMEF,AJQI,CIRH,GNFM,CCI5B,ACMqB,EAAjB,AFVmB,CCIvB,GDJmC,EMED,ENF3B,IAAoC,CCI3C,IDJgD,GAAL,GAAW,CAA/C,IAAoD,KAAK,GAAL,IAAY,OAAnE,EAA2E;AMG/E,ALEI,ACMA,AFVI,QMEJC,AJQI,CDNC,IKFA,ANFM,ECIX,CKFQC,ELEM,ADJV,GEUa,EDNjB,CKFgB,AJQI,CIRHC,IJQQ,YIRjB,CAA0B,CJQd,CAAoB,KAApB,EAApB,eIRQ,CAAZ;ADEF,AJCM,ACMA,AFVC,QEUG,CGPH,AJCI,GIDX,AHOc,GDNR,ACMW,GDNG,ECME,GDNhB,CCMA;AGNP,ACFG,ALGI,ACMA,QAAI,CITH,ALGI,GCMG,CITHC,CAAC,CJSK,EITF,ALGT,CKHJ,EAAgBA,ALGI,ACMA,CITH,GAAGH,ALGhB,ACMA,KITqB,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,ALGE,ACMA,AFXA,QEWI,CDNC,CKHHrB,CNFK,GEWG,CDNV,ADLA,CMEQ,CAACJ,AJSI,CDNC,CAAd,GCMkB,KIThB,CAAkBsB,AJSpB,KITyB,CAACG,CAAD,CAAL,CAASb,IAA3B,MAAqCR,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,ALGA,ACOA,AFZH,GALD,CEiBI,IIVAA,CDECN,AJCI,GAAL,CAAS,ICOI,CIVH,AJUI,CGRtB,ACFmBsB,CDECrB,GAApB,CCFwB,CDEC,ACFAwB,ALGjB,CKHgB,ALGM,CKHZ,CAAV,AJUwB,CAAC,GAAX,CDPd,EAA+B,ACOA,IAAjB,GAAwB,CDPtC,SCOgD,CAAC,GAApC,CAAb,CAAsD,KAAtD,GAA8D,IAA9D;AGPN,ACFK,ALGC,ACOA,QAAI,CGRH,AJCI,CIDH,EJCF,CAAS,EIDFxB,EHQP,CGRC,EAAWC,KJCZ,CAAsB,CIDrB,CAAmB,KJCpB,EAA+B,EAA/B,6DIDC,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,ALGG,ACOA,AFZJ,EAAA,EEYI,GFZJ,CAAA,CCKS,CCOC,CAAC,CDPP,CAAS,IDLb,CEYI,AFZJ,CEYmB,GDPf,GAAqB,CDLzB,CCKI,ECOwB,AFZ5B,QEYmB,EAAiB,EFZpC;ACMC,ACOO,AFZJ,GCHJ,GCeQ,KFZM,IEYG,CFZE,EEYC,CFZN,GAAQ,GAAR,GEYgB,AFZJ,CEYK,IFZA,GAA3B,EEYgB,CAAqB,QAArB,CAAZ;AGPZC,ACFIgB,ANFC,GAFD,CMIAA,GDEG,CAACzB,MCFM,GAAG,GDEjB,CCFI,EDEmBD,kBAAvB;AACAU,ACFG,ALGC,ACMQ,EDNR,CKZqB,EASpB,EDEE,ACXkB,ALYrB,CIDIH,ACXN,ALYE,ECMW,ODNX,CIDJ,AJCI,CCMoB,CAAC,CGPJA,UAArB,IJCI,CCMW,CAA2B,CDNtC,GCMW,EAAiC,IAAjC,CDNO,ACMV,EAA0C,CDNlD,EAA2B;AKF9B,ALGO,ACMQ,AFZhB,QCMY,ACMI,CFZhB,ECMe,GAAG,ADNlB,OEY6B,CDNH,ACMI,CDNH,QCMY,CAAC,GAAV,CDNZ,CAAuB,CCMK,IAAhB,GDNZ,ACMmC,CDN7C,QCMsD,CAAC,GAAlC,CAAb,CAAoD,KAApD,GAA4D,IAA5D;ADLR,ACMK,AFrCb,CAAA,EAAA,CC+BQ,GAAG,CAAC,YAAJ,CAAiB,IAAjB,EAAuB,GAAG,CAAC,QAAJ,EAAvB;AKFR2B,ALGQ,ACMC,IDND,CCCA,CIJF,CAACxB,ALGI,CAAC,MKHZ,GAAiBiB,GLGT,CAAiB,KKHzB,ELGQ,EAA0B,QAA1B;AACA,ACOA,AFxCK,IEwCL,GFxCK,CAAA,GCiCE,EDjCF,CCiCL,EDjCK,CEwCQ,GAAG,CFxCX,YEwCwB,CAAC,MAAd,CAAqB,UAAA,CAAA,EAAC;ADNzC,ACM6C,GDX9C,UCW8C,CAAC,CAAC,KAAF,KAAY,KAAZ;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","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["export class Point {\r\n    col: number;\r\n    row: number;\r\n    avoid:boolean;\r\n    constructor(row: number, column: number){\r\n        this.col = column;\r\n        this.row = row;\r\n        this.avoid = false; \r\n    }\r\n\r\n    Add_Point(toAdd: Point){\r\n        return new Point(this.row + toAdd.row, this.col + toAdd.col)\r\n    }\r\n\r\n    Inside_Boundries(rows:number, columns:number){\r\n        if(this.row < 0 || this.row >= rows || this.col < 0 || this.col >= columns){\r\n            return false;\r\n        } \r\n        return true;\r\n    }\r\n\r\n    ToString(){\r\n        return `${this.row}-${this.col}`\r\n    }\r\n}","import { Point } from \"./Point\";\r\n\r\nexport class Field{\r\n    pnt:Point\r\n    btn:HTMLButtonElement\r\n    isBomb:boolean\r\n    isFlag:boolean\r\n    isHidden:boolean\r\n    nBombs:number\r\n    \r\n    constructor(row:number, col:number){\r\n        this.pnt = new Point(row, col)\r\n        this.btn = this.CreateFieldButton(this.pnt)\r\n        this.isBomb = false\r\n        this.isFlag = false\r\n        this.isHidden = true\r\n        this.nBombs = 0\r\n    }\r\n\r\n    RestartField(){\r\n        this.isBomb = false\r\n        this.isFlag = false\r\n        this.isHidden = true\r\n        this.nBombs = 0\r\n        this.btn.setAttribute('class', 'hidden')\r\n        this.btn.setAttribute('style', '')\r\n        this.btn.innerHTML = '';\r\n    }\r\n\r\n    CreateFieldButton(pnt:Point){\r\n        var btn = document.createElement('button');\r\n        btn.setAttribute('id', pnt.ToString())\r\n        btn.setAttribute('class', 'hidden')\r\n        return btn;\r\n    }\r\n}","import { Point } from \"./Point\"\r\nimport { Field } from \"./Field\"\r\n\r\n\r\nexport class MapGenerator{\r\n    rows:number\r\n    cols:number\r\n    bombs:number\r\n    offset:Point[] = \r\n    [\r\n        new Point(-1, -1), new Point(-1, 0), new Point(-1,  1),\r\n        new Point( 0, -1),                   new Point( 0,  1),\r\n        new Point( 1, -1), new Point( 1, 0), new Point( 1,  1)\r\n    ]\r\n\r\n    bombCordsConst:Point[];\r\n\r\n    constructor(rows:number, cols:number, bombs:number){\r\n        this.rows = rows;\r\n        this.cols = cols;\r\n        this.bombs = bombs;\r\n        this.bombCordsConst = this.InitBombCordsConst(this.rows, this.cols);\r\n    }\r\n\r\n    GenerateMap(firstClick:Point, map: any[][]){\r\n        var updatedMap = map.slice();\r\n        var workBombCords = this.bombCordsConst.slice();\r\n        var rows = this.rows;\r\n        var cols = this.cols\r\n        var offset = this.offset;\r\n\r\n        workBombCords[firstClick.row * cols + firstClick.col].avoid = true;        \r\n        var tempPoint;\r\n        offset.forEach(function(offPoint){\r\n            tempPoint = firstClick.Add_Point(offPoint);\r\n            if(tempPoint.Inside_Boundries(rows, cols)){\r\n                workBombCords[tempPoint.row * cols + tempPoint.col].avoid = true;\r\n            }\r\n        });\r\n\r\n        workBombCords = workBombCords.filter(x => x.avoid === false)\r\n        var chosenBombs = this.GenerateBombCord(workBombCords)\r\n        chosenBombs.forEach(function(pnt){\r\n            var fieldWithBomb:Field = updatedMap[pnt.row][pnt.col];\r\n            fieldWithBomb.isBomb = true;\r\n            offset.forEach(function(offPoint){\r\n                var toAddBomb = pnt.Add_Point(offPoint)\r\n                if(toAddBomb.Inside_Boundries(rows, cols)){\r\n                    var fieldNeighBomb:Field = updatedMap[toAddBomb.row][toAddBomb.col]\r\n                    fieldNeighBomb.nBombs += 1;\r\n                }\r\n            })\r\n        })\r\n\r\n        console.log(updatedMap)\r\n        console.log(map)\r\n        return updatedMap;\r\n    }\r\n\r\n    GenerateBombCord(bombCords:Point[]){\r\n        var chosenPoints = [];\r\n\r\n        var index;\r\n        for (let bombCount = 0; bombCount < this.bombs; bombCount++) {\r\n            index = this.GetRandomIndex(0, bombCords.length)\r\n            chosenPoints.push(bombCords[index]);\r\n            bombCords.splice(index, 1);            \r\n        }\r\n\r\n        return chosenPoints;\r\n    }\r\n\r\n    GetRandomIndex(min:number, max:number){\r\n        return Math.floor(Math.random() * (max - min) + min)\r\n    }\r\n\r\n\r\n\r\n\r\n    InitBombCordsConst(rows:number, cols:number){\r\n        var point;\r\n        var array = [];\r\n        for (let row = 0; row < this.rows; row++)\r\n        {\r\n            for (let column = 0; column < this.cols; column++)\r\n            {\r\n                point = new Point(row, column);\r\n                array.push(point);\r\n            }\r\n        }\r\n        return array;\r\n    }\r\n}","const Game = () => {\r\n    var template =\r\n    `\r\n    <div class=\"background\">\r\n        <div class=\"gameContainer\" id=\"gameContainer\">\r\n            <div class=\"menu\">\r\n                <div class=\"counter\">\r\n                    <h1 id=\"bombCounter\">091</h1>\r\n                </div>\r\n                <div>\r\n                    <button class=\"uibtn\" id=\"newGameBtn\"> \r\n                        <span class=\"material-icons\" style=\"font-size:36px;\">\r\n                            fiber_new\r\n                        </span>\r\n                    </button> \r\n                    <button class=\"uibtn\" id=\"settingBtn\">\r\n                        <span class=\"material-icons\" style=\"font-size:36px;\">\r\n                            settings\r\n                        </span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"counter\">\r\n                    <h1 id=\"timeCounter\">012</h1>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"grid\" id=\"grid\">\r\n            </div>\r\n            \r\n        </div>  \r\n\r\n        <div class=\"dropdown-content\" id=\"dropdown-content\">\r\n            <div class=\"bg\">\r\n            </div>\r\n\r\n\r\n            <h1>Mineswepper</h1>\r\n            <button id=\"changeSizeBtn\">Change size</button>\r\n            <input type=\"range\" min=\"10\" max=\"50\" value=\"30\" class=\"slider rangeInput\" id=\"squareSizeSlider\">\r\n            <label for\"nameInput\">Nickname</label>\r\n            <input class=\"nameInput\" type=\"text\" id=\"nameInput\">\r\n            </div>\r\n        \r\n    </div>\r\n    `;\r\n    return template;\r\n}\r\n\r\nexport default Game","import { Point } from './objects/Point'\r\nimport { Field } from './objects/Field'\r\nimport { MapGenerator } from './objects/MapGenerator';\r\n\r\nimport './styles.scss'\r\nimport Grid from './components/grid';\r\nimport Game from './components/game';\r\n\r\nlet mapGrid: Field[][];\r\nlet mapGenerator:MapGenerator;\r\nlet firstClick = true;\r\nlet gameOver = false;\r\nlet run = false;\r\nlet mouseDownField:Field;\r\nlet lmbDown = false;\r\nlet rmbDown = false;\r\n\r\nlet rows = 0;\r\nlet columns = 0;\r\nlet bombs = 0;\r\nlet chosenSize = 0;\r\nlet squareSize = 32;\r\n\r\nlet time;\r\nlet bombsRemaining;\r\nlet shownFieldsCount;\r\nlet bombCounter:HTMLHeadElement;\r\nlet timeCounter:HTMLHeadElement;\r\nlet slider:HTMLInputElement;\r\n\r\n\r\nconst offset:Point[] = \r\n[\r\n    new Point(-1, -1), new Point(-1, 0), new Point(-1,  1),\r\n    new Point( 0, -1),                   new Point( 0,  1),\r\n    new Point( 1, -1), new Point( 1, 0), new Point( 1,  1)\r\n]\r\n\r\nconst app = function(){    \r\n    \r\n    document.getElementById('root')!.innerHTML = Game()\r\n\r\n    document.getElementById('newGameBtn')?.addEventListener('click', NewGame)\r\n    document.getElementById('changeSizeBtn')!.addEventListener('click', SetLevel)\r\n    document.getElementById('settingBtn')?.addEventListener('click', SettingsWindowOpener)\r\n    document.getElementById('dropdown-content')?.addEventListener('mouseleave', SettingsWindowOpener)\r\n\r\n    var nameInput = document.getElementById('nameInput')\r\n    nameInput.addEventListener('input', SetNickname)\r\n    var nick = window.localStorage.getItem('name')\r\n    if (nick != null && nick.trim().length != 0){\r\n        nameInput.value = nick        \r\n    }\r\n\r\n    slider = document.getElementById('squareSizeSlider')\r\n    console.log(slider)\r\n    slider.addEventListener('input', SetSquareSize)\r\n    bombCounter = document.getElementById('bombCounter')!\r\n    timeCounter = document.getElementById('timeCounter')!\r\n    SetLevel();\r\n}\r\napp();\r\n\r\nlet settingsOpen = false;\r\n\r\nfunction SetNickname(event:InputEvent){\r\n    var nick = event.target.value;\r\n    if (nick.length < 50){\r\n        window.localStorage.setItem('name', `${event.target.value}`)\r\n    }\r\n    console.log(window.localStorage.getItem('name'))\r\n}\r\n\r\n\r\nfunction SettingsWindowOpener(event){\r\n\r\n    if (settingsOpen){\r\n        document.getElementById('dropdown-content')?.setAttribute('style', 'display: none;')\r\n        settingsOpen = !settingsOpen;\r\n    } else {\r\n        document.getElementById('dropdown-content')?.setAttribute('style', 'display: flex;')\r\n        settingsOpen = !settingsOpen;\r\n    }\r\n}\r\n\r\nfunction SetSquareSize(event:InputEvent = null){\r\n    squareSize = slider?.value\r\n    if(squareSize * columns + 10 < 236){        \r\n        squareSize = 226 / columns;\r\n        if(event){\r\n            return;\r\n        }\r\n    }\r\n\r\n    var grid = document.getElementById('grid')\r\n    grid!.setAttribute('style', \r\n        `grid-template-columns: repeat(${columns}, ${squareSize}px);\r\n         grid-template-rows: repeat(${rows}, ${squareSize}px);\r\n         font-size: ${squareSize - 2}px`)\r\n}\r\n\r\nasync function StartTimeCounter(){\r\n    time = 0;\r\n    var interval = setInterval(() => {\r\n        if(run){\r\n            time++;\r\n            updateCounters();  \r\n        } else {\r\n            clearInterval(interval);    \r\n        }\r\n      }, 1000);\r\n  };\r\n\r\n\r\nfunction SetLevel(){\r\n    if(chosenSize < 5){\r\n        chosenSize++;\r\n    } else {\r\n        chosenSize = 1\r\n    }\r\n    \r\n    switch(chosenSize){\r\n        case 1:\r\n            SetSize(9, 9, 10)\r\n            return;\r\n        case 2:\r\n            SetSize(16, 16, 40)\r\n            return;\r\n        case 3:\r\n            SetSize(16, 30, 99)\r\n            return;\r\n        case 4:\r\n            SetSize(38, 60, 500)\r\n            return;\r\n        case 5:\r\n            SetSize(100, 60, 999)\r\n            return;\r\n    }\r\n\r\n\r\n}\r\n\r\nfunction updateCounters(){\r\n    bombCounter.innerHTML = (\"00\" + `${bombsRemaining}`).slice(-3)\r\n    if (time < 1000){\r\n        timeCounter.innerHTML = (\"00\" + `${time}`).slice(-3);\r\n    } else {\r\n        timeCounter.innerHTML = \"999\";\r\n    }\r\n}\r\n\r\nfunction SetSize(r:number, c:number, b:number){\r\n    rows = r;\r\n    columns = c;\r\n    bombs = b;\r\n\r\n    SetSquareSize();\r\n    RestartGameInfo();\r\n\r\n    mapGrid = new Array(rows)\r\n    for (let i = 0; i < rows; i++){\r\n        mapGrid[i]=new Array(columns)\r\n    }\r\n\r\n    console.log(mapGrid)\r\n    grid!.innerHTML = ''\r\n    for (let i = 0; i < rows; i++) {\r\n        for (let j = 0; j < columns; j++) {\r\n            mapGrid[i][j] = new Field(i, j);\r\n            var btn:HTMLButtonElement = mapGrid[i][j].btn\r\n            btn.addEventListener('mousedown', MouseDown)\r\n            btn.addEventListener('mouseup', MouseUp)\r\n            btn.addEventListener('contextmenu', ContextMenu)\r\n            grid!.append(btn)\r\n        }        \r\n    }        \r\n    mapGenerator = new MapGenerator(rows, columns, bombs)\r\n}\r\n\r\nfunction ContextMenu(event:MouseEvent){\r\n    event.preventDefault()\r\n}\r\n\r\n\r\nlet temporaryShownFields:Field[] = [];\r\nfunction MouseDown(event:MouseEvent){\r\n    event.preventDefault()\r\n    if(gameOver){\r\n        return;\r\n    }\r\n    console.log(lmbDown)\r\n    console.log(rmbDown)\r\n    if (lmbDown || rmbDown){\r\n        return;\r\n    }\r\n\r\n    var btn = event.target as Element\r\n    var cords = btn.attributes[0].value.split('-')\r\n    var row = parseInt(cords[0])\r\n    var col = parseInt(cords[1])\r\n    mouseDownField = mapGrid[row][col];\r\n    if(event.button == 0){\r\n        lmbDown = true;\r\n        if(!mouseDownField.isFlag && mouseDownField.isHidden){\r\n            mouseDownField.btn.setAttribute('class', 'shown')\r\n        } else if (!mouseDownField.isHidden && !mouseDownField.isFlag) {\r\n            offset.forEach(function(offpoint){\r\n                var tempPoint = mouseDownField.pnt.Add_Point(offpoint)\r\n                if (tempPoint.Inside_Boundries(rows, columns)){\r\n                    var tempField:Field = mapGrid[tempPoint.row][tempPoint.col]\r\n                    if (tempField.isHidden && !tempField.isFlag){\r\n                        tempField.btn.setAttribute('class', 'shown')\r\n                        temporaryShownFields.push(tempField);\r\n                    }\r\n                }\r\n\r\n            })\r\n        } \r\n    } else if (event.button == 2) {\r\n        rmbDown = true;\r\n        if(mouseDownField.isHidden){\r\n            RmbClick(mouseDownField);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction MouseUp(event:MouseEvent){\r\n    event.preventDefault()\r\n    if (gameOver == true){\r\n        return;\r\n    }\r\n    if (event.button == 2){\r\n        rmbDown = false;\r\n    }\r\n\r\n    if (event.button == 0){\r\n        lmbDown = false\r\n        var btn = event.target as Element\r\n        var cords = btn.attributes[0].value.split('-')\r\n        var row = parseInt(cords[0])\r\n        var col = parseInt(cords[1])\r\n        var clickedField = mapGrid[row][col];\r\n\r\n        if (clickedField.pnt != mouseDownField.pnt){\r\n            if (mouseDownField.isHidden && !mouseDownField.isFlag){\r\n                mouseDownField.btn.setAttribute('class', 'hidden')\r\n                return;              \r\n            } else if (!mouseDownField.isHidden && !mouseDownField.isFlag){\r\n                    if (temporaryShownFields.length != 0){\r\n                        temporaryShownFields.forEach(function(field){\r\n                            field.btn.setAttribute('class', 'hidden')\r\n                        })\r\n                        temporaryShownFields = []\r\n                    }\r\n                }            \r\n        }\r\n\r\n        if (firstClick){\r\n            FirstClickEvent()\r\n        }\r\n\r\n        if(clickedField.isHidden && !clickedField.isFlag){\r\n            LmbClickHidden(clickedField);\r\n            // mouseDownField.btn.removeEventListener('mouseleave', MouseLeave)\r\n        } else if (!clickedField.isHidden) {\r\n            LmbClickShown(clickedField);\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nfunction RestartGameInfo(){\r\n    firstClick = true;\r\n    run = false;\r\n    gameOver = false;\r\n    bombsRemaining = bombs;\r\n    time = 0;\r\n    shownFieldsCount = 0;\r\n    updateCounters()\r\n}\r\n\r\nfunction NewGame(){    \r\n    RestartGameInfo()\r\n    for (let i = 0; i < rows; i++) {\r\n        for (let j = 0; j < columns; j++) {\r\n            mapGrid[i][j].RestartField();            \r\n        }        \r\n    }    \r\n}\r\n\r\nfunction FirstClickEvent(){\r\n    firstClick = false;\r\n    run = true;\r\n    mapGrid = mapGenerator.GenerateMap(mouseDownField.pnt, mapGrid)\r\n    StartTimeCounter();\r\n}\r\n\r\n\r\nconst colors:string[] = ['lightgray', 'darkcyan', 'green', 'darkred', 'darkslateblue', 'brown', 'seagreen', 'orange', 'black']\r\n\r\n\r\nfunction LmbClickHidden(clickedField:Field){\r\n    var btn:HTMLButtonElement = clickedField.btn;\r\n    if (clickedField.isBomb){\r\n        btn.innerHTML = 'B'\r\n        btn.setAttribute('class', 'bomb')\r\n        GameOver(false);\r\n        return;\r\n    }\r\n    if(clickedField.isFlag){\r\n        return;\r\n    }\r\n    clickedField.isHidden = false;\r\n    clickedField.btn.innerHTML = clickedField.nBombs == 0 ? \"\" : `${clickedField.nBombs}`\r\n    clickedField.btn.setAttribute('style', `color: ${colors[clickedField.nBombs]};`)\r\n    clickedField.btn.setAttribute('class', 'shown')\r\n\r\n    shownFieldsCount++;\r\n\r\n    if (clickedField.nBombs == 0){\r\n        offset.forEach(function(offPoint){\r\n            var tempPoint = clickedField.pnt.Add_Point(offPoint)\r\n            if(tempPoint.Inside_Boundries(rows, columns)){\r\n                var tempField:Field = mapGrid[tempPoint.row][tempPoint.col];\r\n                if (tempField.isHidden == true && tempField.isFlag == false){\r\n                    LmbClickHidden(tempField);\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    if (shownFieldsCount == columns * rows - bombs)\r\n    {\r\n        GameOver(true);\r\n    }\r\n}\r\n\r\nfunction LmbClickShown(clickedField:Field){\r\n    var nearBombs = clickedField.nBombs;\r\n    var flaggedFields = 0;\r\n    \r\n    var safeFields:Field[] = [];\r\n\r\n    offset.forEach(function(offPoint){\r\n        var tempPoint = clickedField.pnt.Add_Point(offPoint)\r\n        if (!tempPoint.Inside_Boundries(rows, columns)){\r\n            return;\r\n        }\r\n\r\n        var fieldToBeClicked = mapGrid[tempPoint.row][tempPoint.col]\r\n        if (fieldToBeClicked.isFlag){\r\n            flaggedFields++;\r\n        } else if (fieldToBeClicked.isHidden){\r\n            safeFields.push(fieldToBeClicked)\r\n        }\r\n    })\r\n\r\n    if(flaggedFields == nearBombs){\r\n        safeFields.forEach(function(fTC){\r\n            if (fTC.isHidden){\r\n                LmbClickHidden(fTC)\r\n            }\r\n        })\r\n    } else {\r\n        console.log(temporaryShownFields)\r\n        if (temporaryShownFields.length != 0){\r\n            temporaryShownFields.forEach(function(field){\r\n                field.btn.setAttribute('class', 'hidden')\r\n            })\r\n        }\r\n    }\r\n    temporaryShownFields = []\r\n\r\n}\r\n\r\nexport function RmbClick(clickedField:Field){\r\n    if(clickedField.isHidden){\r\n        if (firstClick){\r\n            FirstClickEvent()\r\n        }\r\n\r\n        clickedField.isFlag = !clickedField.isFlag;\r\n        bombsRemaining += clickedField.isFlag ? -1 : 1\r\n        updateCounters()\r\n        var className = clickedField.isFlag ? 'flagged' : 'hidden'\r\n        clickedField.btn.setAttribute('class', className)\r\n    }\r\n}\r\n\r\nfunction GameOver(succes:boolean){\r\n    gameOver = true;\r\n    run = false;\r\n    console.log(`Win - ${succes}`);\r\n    console.log(`Time - ${time}`);\r\n\r\n}\r\n\r\n\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}